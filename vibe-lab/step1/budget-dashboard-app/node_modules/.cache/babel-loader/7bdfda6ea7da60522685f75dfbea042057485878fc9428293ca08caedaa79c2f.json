{"ast":null,"code":"import React,{useMemo}from'react';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,PieChart,Pie,Cell,ResponsiveContainer}from'recharts';import'./Charts.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COLORS=['#0088FE','#00C49F','#FFBB28','#FF8042','#8884D8','#82CA9D','#FFC658','#FF7C7C','#8DD1E1','#D084D0','#87D068','#FFB366','#95A5A6','#F39C12','#E74C3C'];const Charts=_ref=>{let{transactions,budgets}=_ref;const chartData=useMemo(()=>{const categoryTotals=transactions.reduce((acc,transaction)=>{const category=transaction.category;acc[category]=(acc[category]||0)+transaction.amount;return acc;},{});return budgets.map(budget=>{const actualSpent=categoryTotals[budget.category]||0;return{category:budget.category,budget:budget.budgetAmount,actual:actualSpent,difference:budget.budgetAmount-actualSpent,percentage:(actualSpent/budget.budgetAmount*100).toFixed(1)};});},[transactions,budgets]);const pieData=useMemo(()=>{const categoryTotals=transactions.reduce((acc,transaction)=>{const category=transaction.category;acc[category]=(acc[category]||0)+transaction.amount;return acc;},{});return Object.entries(categoryTotals).map(_ref2=>{let[category,amount]=_ref2;return{name:category,value:amount};});},[transactions]);const formatCurrency=value=>{return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}).format(value);};const CustomTooltip=_ref3=>{let{active,payload,label}=_ref3;if(active&&payload&&payload.length){return/*#__PURE__*/_jsxs(\"div\",{className:\"custom-tooltip\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"tooltip-label\",children:\"\".concat(label)}),payload.map((entry,index)=>/*#__PURE__*/_jsx(\"p\",{style:{color:entry.color},children:\"\".concat(entry.dataKey,\": \").concat(formatCurrency(entry.value))},index))]});}return null;};const PieTooltip=_ref4=>{let{active,payload}=_ref4;if(active&&payload&&payload.length){const data=payload[0];return/*#__PURE__*/_jsxs(\"div\",{className:\"custom-tooltip\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"tooltip-label\",children:data.name}),/*#__PURE__*/_jsx(\"p\",{style:{color:data.color},children:formatCurrency(data.value)})]});}return null;};return/*#__PURE__*/_jsxs(\"div\",{className:\"charts-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Budget vs Actual Spending\"}),/*#__PURE__*/_jsx(\"div\",{className:\"budget-summary\",children:chartData.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"budget-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"category-name\",children:item.category}),/*#__PURE__*/_jsxs(\"span\",{className:\"percentage \".concat(parseFloat(item.percentage)>100?'over-budget':'under-budget'),children:[item.percentage,\"% of budget\"]})]},item.category))}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(BarChart,{data:chartData,margin:{top:20,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"category\",angle:-45,textAnchor:\"end\",height:80,fontSize:12}),/*#__PURE__*/_jsx(YAxis,{tickFormatter:formatCurrency}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"budget\",fill:\"#8884d8\",name:\"Budget\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"actual\",fill:\"#82ca9d\",name:\"Actual Spending\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Spending Distribution\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:pieData,cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref5=>{let{name,percent}=_ref5;return\"\".concat(name,\" \").concat((percent*100).toFixed(0),\"%\");},outerRadius:120,fill:\"#8884d8\",dataKey:\"value\",children:pieData.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(PieTooltip,{})})]})})]})]});};export default Charts;","map":{"version":3,"names":["React","useMemo","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","PieChart","Pie","Cell","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","COLORS","Charts","_ref","transactions","budgets","chartData","categoryTotals","reduce","acc","transaction","category","amount","map","budget","actualSpent","budgetAmount","actual","difference","percentage","toFixed","pieData","Object","entries","_ref2","name","value","formatCurrency","Intl","NumberFormat","style","currency","format","CustomTooltip","_ref3","active","payload","label","length","className","children","concat","entry","index","color","dataKey","PieTooltip","_ref4","data","item","parseFloat","width","height","margin","top","right","left","bottom","strokeDasharray","angle","textAnchor","fontSize","tickFormatter","content","fill","cx","cy","labelLine","_ref5","percent","outerRadius"],"sources":["/Users/sandeep.adwankar/pradnya-ai/MyAIExperiments/vibe-lab/step1/budget-dashboard-app/src/components/Charts.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  PieChart,\n  Pie,\n  Cell,\n  ResponsiveContainer\n} from 'recharts';\nimport { Transaction, Budget } from '../App';\nimport './Charts.css';\n\ninterface ChartsProps {\n  transactions: Transaction[];\n  budgets: Budget[];\n}\n\nconst COLORS = [\n  '#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884D8',\n  '#82CA9D', '#FFC658', '#FF7C7C', '#8DD1E1', '#D084D0',\n  '#87D068', '#FFB366', '#95A5A6', '#F39C12', '#E74C3C'\n];\n\nconst Charts: React.FC<ChartsProps> = ({ transactions, budgets }) => {\n  const chartData = useMemo(() => {\n    const categoryTotals = transactions.reduce((acc, transaction) => {\n      const category = transaction.category;\n      acc[category] = (acc[category] || 0) + transaction.amount;\n      return acc;\n    }, {} as { [key: string]: number });\n\n    return budgets.map((budget) => {\n      const actualSpent = categoryTotals[budget.category] || 0;\n      return {\n        category: budget.category,\n        budget: budget.budgetAmount,\n        actual: actualSpent,\n        difference: budget.budgetAmount - actualSpent,\n        percentage: ((actualSpent / budget.budgetAmount) * 100).toFixed(1)\n      };\n    });\n  }, [transactions, budgets]);\n\n  const pieData = useMemo(() => {\n    const categoryTotals = transactions.reduce((acc, transaction) => {\n      const category = transaction.category;\n      acc[category] = (acc[category] || 0) + transaction.amount;\n      return acc;\n    }, {} as { [key: string]: number });\n\n    return Object.entries(categoryTotals).map(([category, amount]) => ({\n      name: category,\n      value: amount\n    }));\n  }, [transactions]);\n\n  const formatCurrency = (value: number) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(value);\n  };\n\n  const CustomTooltip = ({ active, payload, label }: any) => {\n    if (active && payload && payload.length) {\n      return (\n        <div className=\"custom-tooltip\">\n          <p className=\"tooltip-label\">{`${label}`}</p>\n          {payload.map((entry: any, index: number) => (\n            <p key={index} style={{ color: entry.color }}>\n              {`${entry.dataKey}: ${formatCurrency(entry.value)}`}\n            </p>\n          ))}\n        </div>\n      );\n    }\n    return null;\n  };\n\n  const PieTooltip = ({ active, payload }: any) => {\n    if (active && payload && payload.length) {\n      const data = payload[0];\n      return (\n        <div className=\"custom-tooltip\">\n          <p className=\"tooltip-label\">{data.name}</p>\n          <p style={{ color: data.color }}>\n            {formatCurrency(data.value)}\n          </p>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"charts-container\">\n      <div className=\"chart-section\">\n        <h3>Budget vs Actual Spending</h3>\n        <div className=\"budget-summary\">\n          {chartData.map((item) => (\n            <div key={item.category} className=\"budget-item\">\n              <span className=\"category-name\">{item.category}</span>\n              <span className={`percentage ${parseFloat(item.percentage) > 100 ? 'over-budget' : 'under-budget'}`}>\n                {item.percentage}% of budget\n              </span>\n            </div>\n          ))}\n        </div>\n        <ResponsiveContainer width=\"100%\" height={400}>\n          <BarChart\n            data={chartData}\n            margin={{\n              top: 20,\n              right: 30,\n              left: 20,\n              bottom: 5,\n            }}\n          >\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis\n              dataKey=\"category\"\n              angle={-45}\n              textAnchor=\"end\"\n              height={80}\n              fontSize={12}\n            />\n            <YAxis tickFormatter={formatCurrency} />\n            <Tooltip content={<CustomTooltip />} />\n            <Legend />\n            <Bar dataKey=\"budget\" fill=\"#8884d8\" name=\"Budget\" />\n            <Bar dataKey=\"actual\" fill=\"#82ca9d\" name=\"Actual Spending\" />\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n\n      <div className=\"chart-section\">\n        <h3>Spending Distribution</h3>\n        <ResponsiveContainer width=\"100%\" height={400}>\n          <PieChart>\n            <Pie\n              data={pieData}\n              cx=\"50%\"\n              cy=\"50%\"\n              labelLine={false}\n              label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\n              outerRadius={120}\n              fill=\"#8884d8\"\n              dataKey=\"value\"\n            >\n              {pieData.map((entry, index) => (\n                <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n              ))}\n            </Pie>\n            <Tooltip content={<PieTooltip />} />\n          </PieChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n};\n\nexport default Charts;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}