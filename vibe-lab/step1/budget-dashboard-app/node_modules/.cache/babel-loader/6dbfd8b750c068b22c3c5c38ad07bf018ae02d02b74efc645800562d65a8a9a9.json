{"ast":null,"code":"import React,{useState}from'react';import'./BudgetSettings.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BudgetSettings=_ref=>{let{budgets,onUpdateBudget}=_ref;const[editingCategory,setEditingCategory]=useState(null);const[editValue,setEditValue]=useState('');const[liveMessage,setLiveMessage]=useState('');const toSlug=text=>text.toLowerCase().replace(/\\s+/g,'-').replace(/&/g,'and');const handleEditStart=(category,currentAmount)=>{setEditingCategory(category);setEditValue(currentAmount.toString());setLiveMessage(\"Editing budget for \".concat(category,\".\"));};const handleEditSave=category=>{const amount=parseFloat(editValue);if(!isNaN(amount)&&amount>=0){onUpdateBudget(category,amount);const amountFormatted=new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}).format(amount);setLiveMessage(\"Saved budget for \".concat(category,\" as \").concat(amountFormatted,\".\"));}setEditingCategory(null);setEditValue('');// Return focus to the Edit button for the same category\nconst slug=toSlug(category);setTimeout(()=>{const btn=document.getElementById(\"edit-btn-\".concat(slug));btn===null||btn===void 0?void 0:btn.focus();},0);};const handleEditCancel=()=>{const prev=editingCategory;setEditingCategory(null);setEditValue('');if(prev){setLiveMessage(\"Canceled editing budget for \".concat(prev,\".\"));const slug=toSlug(prev);setTimeout(()=>{const btn=document.getElementById(\"edit-btn-\".concat(slug));btn===null||btn===void 0?void 0:btn.focus();},0);}};const formatAmount=amount=>{return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}).format(amount);};return/*#__PURE__*/_jsxs(\"div\",{className:\"budget-settings\",children:[/*#__PURE__*/_jsx(\"div\",{\"aria-live\":\"polite\",role:\"status\",className:\"visually-hidden\",children:liveMessage}),/*#__PURE__*/_jsx(\"div\",{className:\"budget-grid\",children:budgets.map(budget=>/*#__PURE__*/_jsxs(\"div\",{className:\"budget-card\",role:\"group\",\"aria-labelledby\":\"budget-cat-\".concat(toSlug(budget.category)),children:[/*#__PURE__*/_jsx(\"div\",{className:\"budget-category\",children:/*#__PURE__*/_jsx(\"span\",{id:\"budget-cat-\".concat(toSlug(budget.category)),className:\"category-badge category-\".concat(toSlug(budget.category)),children:budget.category})}),/*#__PURE__*/_jsx(\"div\",{className:\"budget-amount\",children:editingCategory===budget.category?/*#__PURE__*/_jsxs(\"div\",{className:\"budget-edit\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"budget-input-\".concat(toSlug(budget.category)),className:\"visually-hidden\",children:[\"Budget amount for \",budget.category]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editValue,onChange:e=>setEditValue(e.target.value),className:\"budget-input\",min:\"0\",step:\"0.01\",id:\"budget-input-\".concat(toSlug(budget.category)),\"aria-describedby\":\"budget-help-\".concat(toSlug(budget.category)).concat(editValue!==''&&(isNaN(parseFloat(editValue))||parseFloat(editValue)<0)?\" budget-error-\".concat(toSlug(budget.category)):''),\"aria-invalid\":editValue!==''&&(isNaN(parseFloat(editValue))||parseFloat(editValue)<0),autoFocus:true}),/*#__PURE__*/_jsx(\"span\",{id:\"budget-help-\".concat(toSlug(budget.category)),className:\"visually-hidden\",children:\"Enter amount in US dollars.\"}),editValue!==''&&(isNaN(parseFloat(editValue))||parseFloat(editValue)<0)&&/*#__PURE__*/_jsx(\"span\",{id:\"budget-error-\".concat(toSlug(budget.category)),className:\"visually-hidden\",children:\"Amount must be zero or a positive number.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"budget-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleEditSave(budget.category),className:\"btn btn-save\",\"aria-label\":\"Save budget for \".concat(budget.category),children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleEditCancel,className:\"btn btn-cancel\",\"aria-label\":\"Cancel editing budget for \".concat(budget.category),children:\"Cancel\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"budget-display\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"amount-value\",children:formatAmount(budget.budgetAmount)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleEditStart(budget.category,budget.budgetAmount),className:\"btn btn-edit\",id:\"edit-btn-\".concat(toSlug(budget.category)),\"aria-label\":\"Edit budget for \".concat(budget.category),children:\"Edit\"})]})})]},budget.category))})]});};export default BudgetSettings;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","BudgetSettings","_ref","budgets","onUpdateBudget","editingCategory","setEditingCategory","editValue","setEditValue","liveMessage","setLiveMessage","toSlug","text","toLowerCase","replace","handleEditStart","category","currentAmount","toString","concat","handleEditSave","amount","parseFloat","isNaN","amountFormatted","Intl","NumberFormat","style","currency","format","slug","setTimeout","btn","document","getElementById","focus","handleEditCancel","prev","formatAmount","className","children","role","map","budget","id","htmlFor","type","value","onChange","e","target","min","step","autoFocus","onClick","budgetAmount"],"sources":["/Users/sandeep.adwankar/pradnya-ai/MyAIExperiments/vibe-lab/step1/budget-dashboard-app/src/components/BudgetSettings.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Budget } from '../App';\nimport './BudgetSettings.css';\n\ninterface BudgetSettingsProps {\n  budgets: Budget[];\n  onUpdateBudget: (category: string, budgetAmount: number) => void;\n}\n\nconst BudgetSettings: React.FC<BudgetSettingsProps> = ({ budgets, onUpdateBudget }) => {\n  const [editingCategory, setEditingCategory] = useState<string | null>(null);\n  const [editValue, setEditValue] = useState<string>('');\n  const [liveMessage, setLiveMessage] = useState<string>('');\n\n  const toSlug = (text: string) => text.toLowerCase().replace(/\\s+/g, '-').replace(/&/g, 'and');\n\n  const handleEditStart = (category: string, currentAmount: number) => {\n    setEditingCategory(category);\n    setEditValue(currentAmount.toString());\n    setLiveMessage(`Editing budget for ${category}.`);\n  };\n\n  const handleEditSave = (category: string) => {\n    const amount = parseFloat(editValue);\n    if (!isNaN(amount) && amount >= 0) {\n      onUpdateBudget(category, amount);\n      const amountFormatted = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount);\n      setLiveMessage(`Saved budget for ${category} as ${amountFormatted}.`);\n    }\n    setEditingCategory(null);\n    setEditValue('');\n    // Return focus to the Edit button for the same category\n    const slug = toSlug(category);\n    setTimeout(() => {\n      const btn = document.getElementById(`edit-btn-${slug}`) as HTMLButtonElement | null;\n      btn?.focus();\n    }, 0);\n  };\n\n  const handleEditCancel = () => {\n    const prev = editingCategory;\n    setEditingCategory(null);\n    setEditValue('');\n    if (prev) {\n      setLiveMessage(`Canceled editing budget for ${prev}.`);\n      const slug = toSlug(prev);\n      setTimeout(() => {\n        const btn = document.getElementById(`edit-btn-${slug}`) as HTMLButtonElement | null;\n        btn?.focus();\n      }, 0);\n    }\n  };\n\n  const formatAmount = (amount: number) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount);\n  };\n\n  return (\n    <div className=\"budget-settings\">\n      <div aria-live=\"polite\" role=\"status\" className=\"visually-hidden\">{liveMessage}</div>\n      <div className=\"budget-grid\">\n        {budgets.map((budget) => (\n          <div key={budget.category} className=\"budget-card\" role=\"group\" aria-labelledby={`budget-cat-${toSlug(budget.category)}`}>\n            <div className=\"budget-category\">\n              <span id={`budget-cat-${toSlug(budget.category)}`} className={`category-badge category-${toSlug(budget.category)}`}>\n                {budget.category}\n              </span>\n            </div>\n            <div className=\"budget-amount\">\n              {editingCategory === budget.category ? (\n                <div className=\"budget-edit\">\n                  <label htmlFor={`budget-input-${toSlug(budget.category)}`} className=\"visually-hidden\">\n                    Budget amount for {budget.category}\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={editValue}\n                    onChange={(e) => setEditValue(e.target.value)}\n                    className=\"budget-input\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    id={`budget-input-${toSlug(budget.category)}`}\n                    aria-describedby={`budget-help-${toSlug(budget.category)}${editValue !== '' && (isNaN(parseFloat(editValue)) || parseFloat(editValue) < 0) ? ` budget-error-${toSlug(budget.category)}` : ''}`}\n                    aria-invalid={editValue !== '' && (isNaN(parseFloat(editValue)) || parseFloat(editValue) < 0)}\n                    autoFocus\n                  />\n                  <span id={`budget-help-${toSlug(budget.category)}`} className=\"visually-hidden\">Enter amount in US dollars.</span>\n                  {editValue !== '' && (isNaN(parseFloat(editValue)) || parseFloat(editValue) < 0) && (\n                    <span id={`budget-error-${toSlug(budget.category)}`} className=\"visually-hidden\">Amount must be zero or a positive number.</span>\n                  )}\n                  <div className=\"budget-actions\">\n                    <button\n                      type=\"button\"\n                      onClick={() => handleEditSave(budget.category)}\n                      className=\"btn btn-save\"\n                      aria-label={`Save budget for ${budget.category}`}\n                    >\n                      Save\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={handleEditCancel}\n                      className=\"btn btn-cancel\"\n                      aria-label={`Cancel editing budget for ${budget.category}`}\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"budget-display\">\n                  <span className=\"amount-value\">{formatAmount(budget.budgetAmount)}</span>\n                  <button\n                    type=\"button\"\n                    onClick={() => handleEditStart(budget.category, budget.budgetAmount)}\n                    className=\"btn btn-edit\"\n                    id={`edit-btn-${toSlug(budget.category)}`}\n                    aria-label={`Edit budget for ${budget.category}`}\n                  >\n                    Edit\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default BudgetSettings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}